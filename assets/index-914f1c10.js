(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();let i=[{id:0,name:"No Category"},{id:1,name:"Twimm"},{id:2,name:"Dabtype"},{id:3,name:"Bubbletube"},{id:4,name:"Mita"}],a=[{id:1,text:"Phasellus sit amet erat.",categoryIds:[1,2,4]},{id:2,text:"Duis bibendum, felis sed interdum venenatis, turpis enim blandit mi, in porttitor pede justo eu massa.",categoryIds:[2,3]}];const C=e=>a.push(e),x=e=>{a=a.filter(t=>t.id!==e)},B=e=>{const t=a.findIndex(n=>n.id===e.id);a[t]=e},k=e=>i.push(e),A=e=>{a=a.filter(t=>t.id==e)},L=(e,t)=>{const n=i.findIndex(r=>r.id===e);i[n]=t},N=()=>a,D=()=>i,O=e=>a.find(t=>t.id===e),P=e=>i.find(t=>t.id===e),F=e=>a.filter(t=>t.categoriesIds.contains(e)),c={getAllTodoByCategory:F,getAllCategories:D,getCategoryById:P,createCategory:k,removeCategory:A,updateCategory:L,getTodoById:O,createTodo:C,removeTodo:x,updateTodo:B,getAllTodo:N},p=document.getElementById("task-form"),M=document.getElementById("category-form"),g=document.getElementById("task-update-form"),y=document.getElementById("task-input"),T=document.getElementById("all-todo-list"),I=document.getElementById("cid"),l=document.getElementById("category-selector"),v=document.getElementById("task-update-input"),b=c.getAllTodo(),h=c.getAllCategories();let $=b.length+1,j=h.length+1;h.forEach(E);b.forEach(f);function f(e){const t=e.categoryIds.map(m=>`<span>${c.getCategoryById(m).name}</span> `),n=document.createElement("li");n.id=e.id;const r=`
    <p>${e.text}</p>
    <div class="group">${t.join(" ")}</div>
    
  `,o=document.createElement("div");o.className="group";const d=document.createElement("button"),s=document.createElement("button"),u=document.createElement("button");d.innerText="Edit",d.onclick=()=>{H(e.id)},s.innerText="Done",s.onclick=()=>{onTaskDone(e.id)},u.innerText="Remove",u.onclick=()=>{onTaskRemove(e.id)},[d,s,u].forEach(m=>o.appendChild(m)),n.innerHTML=r,n.appendChild(o),T.appendChild(n)}function E(e){let t=document.createElement("option");t.value=e.id,t.innerText=e.name,l.appendChild(t)}function w(e){e.preventDefault();const t=y.value,n=l.value,r=$++;c.createTodo({text:t,id:r,categoryIds:[Number(n)]}),f({text:t,id:r,categoryIds:[Number(n)]}),y.value="",l.value="0"}function H(e){const t=c.getTodoById(Number(e));p.hidden=!0,g.hidden=!1,v.value=t.text,l.value=t.categoryIds[0],g.onsubmit=n=>{n.preventDefault();const r=v.value,o=Number(l.value);c.updateTodo({id:t.id,text:r,categoryIds:[o]}),T.innerHTML="",c.getAllTodo().forEach(f),g.hidden=!0,p.hidden=!1}}function R(e){e.preventDefault();const t=I.value,n=j++;c.createCategory({name:t,id:n}),E({name:t,id:n}),I.value=""}M.addEventListener("submit",R);p.addEventListener("submit",w);
